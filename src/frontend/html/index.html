<!DOCTYPE html>
<html lang="en" class="theme-dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apollo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
    <link rel="stylesheet" href="../assets/index.css">
    <script src="../assets/libraries/socket.io.js"></script>
    <script src="https://kit.fontawesome.com/48a7f14439.js" crossorigin="anonymous"></script>
</head>

<body>
    <section class="section">
        <div class="container" style="width: 25%">
            <h2 class="title has-text-centered animate-charcter">Apollo</h2>
            <nav class="level">
                <div class="level-item has-text-centered" style="font-size: 20px;">
                    <button class="heading" id="open-settings">Settings</button>
                </div>
                <div class="level-item has-text-centered" style="font-size: 20px;">
                    <button class="heading" id="open-about">About</button>
                </div>
                <div class="level-item has-text-centered" style="font-size: 20px;">
                    <a href="https://github.com/Lunareonn/Apollo" target="_blank" rel="noopener noreferrer" id="source-link">Source</a>
                </div>
            </nav>
        </div>
    </section>
    <section class="section">
        <div class="container">
            <div class="column is-half is-offset-3">
                <div class="columns">
                    <input class="input mb-4" id="query-input" type="text" placeholder="Spotify URL..."
                        style="font-family: 'ProggyClean'">
                    <button class=" button ml-2" id="trigger-btn" style="height: 15%; width: 7%">
                    <span class="icon">
                        <i class="fas fa-download"></i>
                    </span>
                    </button>
                </div>
                <div class="box" id="log-box" style="padding: 0;">
                    <div id="log-toggle" class="p-3 has-white-text is-clickable is-flex is-align-items-center">
                        <span class="icon is-small mr-2">
                            <i class="fas fa-angle-down" aria-hidden="true"></i>
                        </span>
                        <strong style="font-size: 20px;">Logs</strong>
                    </div>
                    <div id="log-content" class="p-3">
                        <pre id="logs" style="white-space: pre-wrap; font-size: 0.9rem;"></pre>
                    </div>

                    <div id="about-modal" class="modal">
                        <div class="modal-background"></div>
                        <div class="modal-card" style="width: 680px;">
                            <header class="modal-card-head" style="box-shadow: none !important;border-bottom: 1px solid #fff">
                                <p class="modal-card-title">About Apollo</p>
                                <button class="delete" aria-label="close" id="about-close"></button>
                            </header>
                            <section class="modal-card-body">
                                <div class="content">
                                    <h1 class="title" style="font-size: 24px;">What is Apollo?</h1>
                                    <p class="subtitle">Apollo is a music downloader that utilizes SpotDL and other third-party libraries inorder to download music from services such as spotify.</p>
                                    <h1 class="title" style="font-size: 24px;">Why does Apollo exist?</h1>
                                    <p class="subtitle">Apollo exists because I was dissatisfied with what spotdl can do, or rather what it can't do. Apollo includes features that spotdl does not have, or work in a way I personally don't like.</p>
                                    <h1 class="title" style="font-size: 24px;">Can this get my spotify account banned?</h1>
                                    <p class="subtitle">No.</p>
                                    <h1 class="title" style="font-size: 24px;">Why am I being ratelimited?</h1>
                                    <p class="subtitle">Most likely because you're trying to download a lot of songs at once. It won't kill the download, it'll just take longer.</p>
                                </div>
                            </section>
                        </div>
                    </div>

                    <div id="settings-modal" class="modal">
                        <div class="modal-background"></div>
                        <div class="modal-card" style="width: 680px;">
                            <header class="modal-card-head" style="box-shadow: none !important;border-bottom: 1px solid #fff">
                                <p class="modal-card-title">Settings</p>
                                <button class="delete" aria-label="close" id="settings-close"></button>
                            </header>
                            <section class="modal-card-body">
                                <form id="settings-form">
                                    <div class="field">
                                        <label class="label">Spotify client ID and Secret (REQUIRED!)</label>
                                        <div class="control">
                                            <input id="setting-client-id" class="input" type="text" placeholder="Spotify Client ID", value="">
                                            <input id="setting-client-secret" class="input mt-2" type="text" placeholder="Spotify Client Secret", value="">
                                        </div>
                                        <p class="help" style="font-size: 16px">Get them from <a href="https://developer.spotify.com/dashboard/applications" target="_blank" rel="noopener noreferrer">here</a></p>
                                    </div>
                                    <div class="field">
                                        <label class="label">Download Folder</label>
                                        <div class="control">
                                            <input id="setting-download-folder" class="input" type="text" placeholder="e.g. {{path}}", value="{{path}}">
                                        </div>
                                        <p class="help" style="font-size: 16px">Path for downloaded files</p>
                                    </div>
                                    <div class="title" style="font-size:24px">Advanced Settings</div>
                                    <div class="field">
                                        <label class="label">Minimum Silence Length (ms)</label>
                                        <div class="control">
                                            <input id="setting-min-silence-len" class="input" type="number" placeholder="e.g. 1000", value="1000">
                                        </div>
                                        <p class="help" style="font-size: 16px">The minimum length of a silence to be used for a split. Measured in ms.</p>
                                    </div>
                                    <div class="field">
                                        <label class="label">Silence Threshold (dB)</label>
                                        <div class="control">
                                            <input id="setting-silence-thresh" class="input" type="number" placeholder="e.g. -50", value="-50">
                                        </div>
                                        <p class="help" style="font-size: 16px">The upper bound for how quiet is considered silent. Measured in dB.</p>
                                </form>
                            </section>
                            <footer class="modal-card-foot">
                                <button id="settings-save" class="button is-primary" style="margin-right:0.45rem">Save</button>
                                <button id="settings-cancel" class="button">Cancel</button>
                                <span id="settings-saved-status" style="margin-left:3.15rem"></span>
                            </footer>
                        </div>
                    </div>

                    <div id="warning-modal" class="modal">
                        <div class="modal-background"></div>
                        <div class="modal-card" style="width: 420px;">
                            <section class="modal-card-body">
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script type="module" src="../assets/js/websocket.js"></script>
    <script type="module" src="../assets/js/dropdownlogs.js"></script>
    <script type="module" src="../assets/js/download.js"></script>
    <script type="module" src="../assets/js/settings-modal.js"></script>
    <script type="module" src="../assets/js/about-modal.js"></script>
    <script type="module" src="../assets/js/warning-modal.js"></script>
</body>

</html>